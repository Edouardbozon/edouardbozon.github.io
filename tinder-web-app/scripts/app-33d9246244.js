/******/!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var o=n(1),r=n(2),a=n(3),s=n(4),i=n(5),c=n(6),l=n(7),d=n(8),u=n(9);angular.module("tinder-web-app",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ngRoute","ngMaterial","toastr","facebook"]).config(o.config).config(r.routerConfig).service("MainService",d.MainService).controller("MainController",a.MainController).controller("UsersController",s.UsersController).controller("MatchesController",i.MatchesController).controller("MessagesController",c.MessagesController).controller("ProfileController",l.ProfileController).directive("navbar",u.NavbarDirective)},function(e,t){"use strict";function n(e,t,n,o){"ngInject";e.debugEnabled(!0),t.allowHtml=!0,t.timeOut=3e3,t.positionClass="toast-top-right",t.preventDuplicates=!0,t.progressBar=!0;var r="120262645036225";n.init(r),o.theme("default").accentPalette("amber")}n.$inject=["$logProvider","toastrConfig","FacebookProvider","$mdThemingProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.config=n},function(e,t){"use strict";function n(e){"ngInject";e.when("/",{templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}).when("/users",{templateUrl:"app/users/users.html",controller:"UsersController",controllerAs:"users"}).when("/matches",{templateUrl:"app/matches/matches.html",controller:"MatchesController",controllerAs:"matches"}).when("/messages",{templateUrl:"app/messages/messages.html",controller:"MessagesController",controllerAs:"messages"}).when("/profile",{templateUrl:"app/profile/profile.html",controller:"ProfileController",controllerAs:"profile"}).otherwise({redirectTo:"/"})}n.$inject=["$routeProvider"],Object.defineProperty(t,"__esModule",{value:!0}),t.routerConfig=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t,o,r,a){"ngInject";n(this,e),this.Facebook=t,this.$rootScope=o,this.MainService=r,this.$log=a,o.user={id:void 0,name:void 0,fbAuthToken:void 0,isConnected:!1,picture:void 0}}return e.$inject=["Facebook","$rootScope","MainService","$log"],o(e,[{key:"logFacebook",value:function(){var e=this;this.MainService.facebookAuth().then(function(t){e.$rootScope.user.fbAuthToken=t.authResponse.accessToken,e.$rootScope.user.id=t.authResponse.userID,e.$rootScope.user.isConnected=!0}).then(function(){e.getProfilePicture()}).then(function(){e.getProfileUser()}).then(function(){e.logTinder()})["catch"](function(t){e.$log.error(angular.toJson(t.data,!0))})}},{key:"logTinder",value:function(){var e=this;this.MainService.tinderAuth().then(function(t){e.$log.info(t.data)})["catch"](function(t){e.$log.error("XHR Failed to log in Tinder API.\n"+angular.toJson(t.data,!0))})}},{key:"getProfilePicture",value:function(){var e=this;this.MainService.getProfilePicture().then(function(t){e.$rootScope.user.picture=t.data.url})["catch"](function(t){e.$log.error("XHR Failed to get profile picture from Facebook API.\n"+angular.toJson(t.data,!0))})}},{key:"getProfileUser",value:function(){var e=this;this.MainService.getProfileUser().then(function(t){e.$rootScope.user.name=t.name})["catch"](function(t){e.$log.error("XHR Failed to get profile user from Facebook API.\n"+angular.toJson(t.data,!0))})}}]),e}();t.MainController=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function r(){"ngInject";n(this,r)};t.UsersController=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function r(){"ngInject";n(this,r)};t.MatchesController=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function r(){"ngInject";n(this,r)};t.MessagesController=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function r(){"ngInject";n(this,r)};t.ProfileController=o},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(){function e(t,o,r,a){"ngInject";n(this,e),this.$rootScope=o,this.$http=t,this.Facebook=r,this.$q=a,this.tinderUrl="https://api.gotinder.com"}return e.$inject=["$http","$rootScope","Facebook","$q"],o(e,[{key:"tinderAuth",value:function(){var e=this.tinderUrl+"/auth",t={facebook_token:this.$rootScope.user.fbAuthToken,facebook_id:this.$rootScope.user.id},n={"Content-type":"application/json","User-agent":"User-Agent: Tinder/3.0.4 (iPhone; iOS 7.1; Scale/2.00)"};return this.$http.get(e,t,n)}},{key:"facebookAuth",value:function(){var e=this,t=this.$q.defer();return this.Facebook.getLoginStatus(function(n){n.error||"connected"!==n.status?e.Facebook.login(function(e){e&&!e.error?t.resolve(e):t.reject(e.error)}):t.resolve(n)}),t.promise}},{key:"getProfileUser",value:function(){var e=this.$q.defer(),t=this.$rootScope.user.id;return this.Facebook.api(t,function(t){t&&!t.error?e.resolve(t):e.reject(t.error)}),e.promise}},{key:"getProfilePicture",value:function(){var e=this.$q.defer(),t=this.$rootScope.user.id+"/picture",n={redirect:0,type:"small"};return this.Facebook.api(t,n,function(t){t&&!t.error?e.resolve(t):e.reject(t.error)}),e.promise}}]),e}();t.MainService=r},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){"ngInject";var e={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:r,controllerAs:"vm",bindToController:!0};return e}Object.defineProperty(t,"__esModule",{value:!0}),t.NavbarDirective=o;var r=function a(){"ngInject";n(this,a)}}]),angular.module("tinder-web-app").run(["$templateCache",function(e){e.put("app/matches/matches.html",'<p>matches view</p><div layout-align="center"><button type="button" class="btn btn-primary btn-large" ng-click="main.log()">Login with Facebook</button><md-content layout="row"><md-card flex=""><md-card-header><md-card-header-text><span class="md-title">Title</span> <span class="md-subhead">subhead</span></md-card-header-text></md-card-header><img src="http://lorempixel.com/200/150" class="md-card-image" alt="Washed Out"><md-card-title><md-card-title-text><span class="md-headline">In-card actions</span> <span class="md-subhead">Description</span></md-card-title-text></md-card-title><md-card-actions layout="row" layout-align="start center"><md-button>Action 1</md-button><md-button>Action 2</md-button></md-card-actions><md-card-content><p>The titles of Washed Out\'s breakthrough song and the first single from Paracosm share the two most important words in Ernest Greene\'s musical language: feel it. It\'s a simple request, as well...</p></md-card-content></md-card><md-card flex=""><md-card-header><md-card-header-text><span class="md-title">Title</span> <span class="md-subhead">subhead</span></md-card-header-text></md-card-header><img src="http://lorempixel.com/200/150" class="md-card-image" alt="Washed Out"><md-card-title><md-card-title-text><span class="md-headline">In-card actions</span> <span class="md-subhead">Description</span></md-card-title-text></md-card-title><md-card-actions layout="row" layout-align="start center"><md-button>Action 1</md-button><md-button>Action 2</md-button></md-card-actions><md-card-content><p>The titles of Washed Out\'s breakthrough song and the first single from Paracosm share the two most important words in Ernest Greene\'s musical language: feel it. It\'s a simple request, as well...</p></md-card-content></md-card><md-card flex=""><md-card-header><md-card-header-text><span class="md-title">Title</span> <span class="md-subhead">subhead</span></md-card-header-text></md-card-header><img src="http://lorempixel.com/200/150" class="md-card-image" alt="Washed Out"><md-card-title><md-card-title-text><span class="md-headline">In-card actions</span> <span class="md-subhead">Description</span></md-card-title-text></md-card-title><md-card-actions layout="row" layout-align="start center"><md-button>Action 1</md-button><md-button>Action 2</md-button></md-card-actions><md-card-content><p>The titles of Washed Out\'s breakthrough song and the first single from Paracosm share the two most important words in Ernest Greene\'s musical language: feel it. It\'s a simple request, as well...</p></md-card-content></md-card><md-card flex=""><md-card-header><md-card-header-text><span class="md-title">Title</span> <span class="md-subhead">subhead</span></md-card-header-text></md-card-header><img src="http://lorempixel.com/200/150" class="md-card-image" alt="Washed Out"><md-card-title><md-card-title-text><span class="md-headline">In-card actions</span> <span class="md-subhead">Description</span></md-card-title-text></md-card-title><md-card-actions layout="row" layout-align="start center"><md-button>Action 1</md-button><md-button>Action 2</md-button></md-card-actions><md-card-content><p>The titles of Washed Out\'s breakthrough song and the first single from Paracosm share the two most important words in Ernest Greene\'s musical language: feel it. It\'s a simple request, as well...</p></md-card-content></md-card></md-content></div>'),e.put("app/main/main.html",'<div id="connection" layout="row" layout-align="center center"><md-content class="md-whiteframe-24dp" flex-md="35" flex-sm="70" ng-hide="$root.user.isConnected"><h1>Sign in with Facebook</h1><p>We are using Facebook authentification to provide you Tinder\'s services.<br>This application doesn\'t collect your informations.</p><md-button class="md-raised md-accent" ng-click="main.logFacebook()"><i class="material-icons">account_circle</i>Login with Facebook</md-button></md-content></div>'),e.put("app/messages/messages.html","<p>messages view</p>"),e.put("app/profile/profile.html","<p>profile view</p>"),e.put("app/users/users.html",'<div layout="vertical" layout-fill=""><md-content><section class="jumbotron"><h1>users view</h1></section><div class="techs" layout-align="center"><md-card ng-repeat="awesomeThing in main.awesomeThings | orderBy:\'rank\'"><md-card-content><img class="pull-right" ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><h3 class="md-title">{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p></md-card-content><div class="md-action-buttons"><md-button ng-href="{{ awesomeThing.url }}">Website</md-button></div></md-card></div></md-content></div>'),e.put("app/components/navbar/navbar.html",'<md-toolbar layout="row" layout-align="center center" class="md-whiteframe-4dp"><md-button ng-href="/" class="logo">Tinder++</md-button><section ng-show="$root.user.isConnected" flex="" layout="row" layout-align="left center"><md-button ng-href="#/users">Users</md-button><md-button ng-href="#/matches">Matchs</md-button><md-button ng-href="#/messages">Messages</md-button></section><img id="profilePicture" class="md-whiteframe-6dp" ng-if="$root.user.isConnected" ng-src="{{$root.user.picture}}" alt="{{ $root.user.name }} picture"><md-button class="acme-navbar-text" ng-href="#/profile" ng-show="$root.user.isConnected">{{ $root.user.name }}</md-button></md-toolbar>')}]);
//# sourceMappingURL=../maps/scripts/app-33d9246244.js.map
